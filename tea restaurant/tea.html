<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/all.min.css">
    <link rel="icon" href="image/logo.png">
</head>
<body>
	
	<header>
        <a class="logo" href="index.html"><img class="logo" src="image/logo.png" alt="logo"></a>
        <nav>
            <ul class="nav__links">
                <li class="active"><a href="index.html">Чай</a></li>
                <li><a href="cookware.html">Посуда</a></li>
                <li><a href="billets.html">Билеты</a></li>
                <li><a href="about.html">О нас</a></li>
            </ul>
        </nav>
        <a class="cta" href="#">Корзина</a>
    </header>

    <!-- контейнер -->
    <div class="nowrap">
        <!-- тут вставляется изображение -->
        <div class="img">
            <img id="image" class="img" alt="">
        </div>
        <!-- тут вставляется информация о товаре -->
        <div class="descr">
            <!-- наименование -->
            <h1 id="fistname" class="green"></h1> <br>
            <!-- небольшая информация о товаре -->
            <h4 id="lastname" class="dark-green"></h4> <br>
            <!-- описание -->
            <div id="description"></div>
            <!-- цена + вес + кнопка -->
            <div class="cw">
                <h1 id="weight"></h1>
                <div class="void"></div>
                <h1 id="cost"></h1>
                <h1>₽</h1>
                <div class="void"></div>
                <button class="cart-btn">В корзину</button>
            </div>
        </div>
    </div>

    <footer>
        <!-- поумолчанию непрозрачность(opacity) = 0 . Файл указанный ниже подключает небольшую анимацию при загрузке страницы, меня непрозрачность на 1 -->
        <script type="text/javascript" src="js/mobile.js"></script>
        
        <script>
            // здесь вынимается товар из json-массива и разбивается на поля, подставляемые в соответствующие поля в html документе. связь по id
            let fistname = document.querySelector("#fistname");
            let lastname = document.querySelector("#lastname");
            let description = document.querySelector("#description");
            let image = document.querySelector("#image");
            let cost = document.querySelector("#cost");
            let weight = document.querySelector("#weight");
            let params = (new URL(window.location)).searchParams;
            let id = params.get('id');
            let json; 
            fetch("goods.json")
            .then((res)=>{return res.json()})
            .then((res)=>{
                res.goods.forEach(item => {
                if (item.id == id) {
                    fistname.innerText = item.fistname;
                    lastname.innerText = item.lastname;
                    description.innerHTML = item.description;
                    image.src = item.image;
                    cost.innerText = item.cost;
                    weight.innerText = item.weight;
                    document.title = item.title;
                    image.ondragstart = function(){
                        return false;
                    }
                }
            })
            console.log(res);
        });
            console.log(json);
        </script>
    </footer>
</body>
</html>